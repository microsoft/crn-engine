<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Gear Oregonator</title>
    <link rel="stylesheet" type="text/css" href="../Styles/d3.css" />
    <script src="../Scripts/jquery-2.0.3.min.js"></script>
    <script src="../Scripts/rx.js"></script>
    <script src="../Scripts/rx.jQuery.js"></script>
    <script src="../Scripts/d3.js"></script>
    <script src="../Scripts/WebSharper/IntelliFactory.JavaScript/Runtime.js" ></script>
    <script src="../Scripts/WebSharper/IntelliFactory.WebSharper.js" ></script>
    <script src="../Scripts/WebSharper/Oslo.FSharp.WebSharper.js"></script>
    <script src="../Scripts/WebSharper/Oslo.FSharp.Samples.js"></script>

    <script type="application/javascript">

        $(document).ready(function () {

            IntelliFactory.Runtime.Start();
            //===========
            //=============
            var startTime = new Date();
            var sol1 = Oslo.FSharp.GearSamples.Oregonator(0.0, 1000.0);
            var endTime = new Date();
            $("#timings").text("It took " + (endTime - startTime) + "ms to compute " + sol1[0].length + " points");

            var chart1 = D3.asPlot($("#OregonatorChart"))
            var polyline1 = chart1.get("x2");
            polyline1.draw({ x: sol1[0], y: sol1[1] });
            polyline1.fitToView();
            var polyline2 = chart1.get("x3");
            polyline2.draw({ x: sol1[0], y: sol1[2] });
            polyline2.fitToView();
            var polyline3 = chart1.get("x4");
            polyline3.draw({ x: sol1[0], y: sol1[3] });
            polyline3.fitToView();
        });

    </script>
</head>
<body>    
    <div id="OregonatorChart" data-d3-plot="chart" style="width:600px;height:600px">
        <div id="x2" data-d3-plot="polyline" data-d3-style="stroke: orange" data-d3-name="x1(t)"></div>
        <div id="x3" data-d3-plot="polyline" data-d3-style="stroke: blue" data-d3-name="x2(t)"></div>
        <div id="x4" data-d3-plot="polyline" data-d3-style="stroke: red" data-d3-name="x3(t)"></div>
    </div>
    <div id="timings" />
</body>
</html>

